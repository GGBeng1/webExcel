(function(t){function e(e){for(var a,c,s=e[0],r=e[1],h=e[2],d=0,f=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(l,c)&&l[c]&&f.push(l[c][0]),l[c]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);o&&o(e);while(f.length)f.shift()();return n.push.apply(n,h||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,s=1;s<i.length;s++){var r=i[s];0!==l[r]&&(a=!1)}a&&(n.splice(e--,1),t=c(c.s=i[0]))}return t}var a={},l={app:0},n=[];function c(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=t,c.c=a,c.d=function(t,e,i){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(i,a,function(e){return t[e]}.bind(null,a));return i},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=e,s=s.slice();for(var h=0;h<s.length;h++)e(s[h]);var o=r;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"21bb":function(t,e,i){"use strict";var a=i("2dad"),l=i.n(a);l.a},"2dad":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},n=[],c=(i("5c0b"),i("2877")),s={},r=Object(c["a"])(s,l,n,!1,null,null,null),h=r.exports,o=i("8c4f"),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"home",staticClass:"home"},[i("div",{staticClass:"header"},[i("div",{staticClass:"toolBar"}),i("div",{staticClass:"cellVal"},[i("div",{staticClass:"cell"},[t._v(t._s(t.clickCellInfo.position))]),i("div",{staticClass:"val"},[t._v(t._s(t.clickCellInfo.txt))])])]),i("div",{staticClass:"main"},[i("div",{staticClass:"allSelect",style:{width:t.numCellWidth+.5+"px",height:t.cellHeight+.5+"px"}}),i("div",{ref:"top",staticClass:"top",style:{height:t.topCanvas.canvasHeight+"px"}},[i("canvas",{ref:"topCanvas",staticClass:"topCanvas",style:{width:t.topCanvas.canvasWidth+"px",height:t.topCanvas.canvasHeight+"px",left:t.scrollBar.x+"px"},attrs:{width:t.topCanvas.canvasWidth*t.ratio,height:t.topCanvas.canvasHeight*t.ratio}})]),i("div",{ref:"left",staticClass:"left",style:{width:t.numCellWidth+1+"px",top:t.cellHeight+"px"}},[i("canvas",{ref:"leftCanvas",staticClass:"leftCanvas",style:{width:t.leftCanvas.canvasWidth+"px",height:t.leftCanvas.canvasHeight+"px",top:t.scrollBar.y+"px"},attrs:{width:t.leftCanvas.canvasWidth*t.ratio,height:t.leftCanvas.canvasHeight*t.ratio}})]),i("div",{ref:"center",staticClass:"center",style:{top:t.cellHeight+"px",left:t.numCellWidth+"px"}},[i("canvas",{ref:"centerCanvas",staticClass:"centerCanvas",style:{width:t.centerCanvas.canvasWidth+"px",height:t.centerCanvas.canvasHeight+"px",top:t.scrollBar.y+"px",left:t.scrollBar.x+"px"},attrs:{width:t.centerCanvas.canvasWidth*t.ratio,height:t.centerCanvas.canvasHeight*t.ratio},on:{click:t.handlerCenterClick}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.clickCell.show,expression:"clickCell.show"}],staticClass:"clickCell",style:{width:t.cellWidth+.5+"px",height:t.cellHeight+.5+"px",left:t.clickCell.x+"px",top:t.clickCell.y+"px"}},[t.cellIpt?i("div",{ref:"cellIpt",staticClass:"cellIpt",attrs:{contenteditable:""},on:{blur:t.handlerCellIptBlur,input:t.handlerCellIptIput}}):t._e()])])])])},f=[],p=(i("99af"),i("cb29"),i("4160"),i("d3b7"),i("25f0"),i("159b"),i("2909")),u={name:"Home",data:function(){return{ratio:window.devicePixelRatio,topCanvas:{canvasWidth:0,canvasHeight:0,ctx:null},leftCanvas:{canvasWidth:0,canvasHeight:0,ctx:null},centerCanvas:{canvasWidth:0,canvasHeight:0,ctx:null},cellWidth:120,cellHeight:25,wordsHead:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],numCellWidth:40,scrollBar:{x:0,y:0},centerCells:[],letfCells:[],headCells:[],clickCell:{x:0,y:0,show:!1},clickCellInfo:{x:0,y:0,position:"",xNum:0,yNum:0,width:0,height:0,txt:""},cellIpt:!1}},computed:{copyClickCellInfo:function(){return JSON.parse(JSON.stringify(this.clickCellInfo))}},methods:{init:function(){this.handlerDrawHead(),this.handlerDrawLeft(),this.handlerDrawCenter(),this.handlerDomResize(),this.handlerDomAddEvents()},handlerCellIptBlur:function(t){var e=this.centerCells,i=this.centerCanvas.ctx,a=this.clickCellInfo,l=a.xNum,n=a.yNum,c=a.x,s=a.y,r=a.width,h=a.height,o=this.cellWidth,d=this.cellHeight,f=(this.handlerPointAddFixed,this.handlerClearRect),p=this.handlerPointRect,u=(this.ratio,t.target.innerHTML);i.fillStyle="rgb(38, 38, 38);",u===e[n][l].txt||(e[n][l].txt=u,f(i,c,s,o,d),p(i,c,s,r,h,"",null,"rgb(38, 38, 38)"),this.handlerDrawTxt(i,c,s,r,h,u)),t.target.innerHTML=""},handlerCellIptIput:function(t){this.clickCellInfo.txt+=t.data},handlerClearRect:function(t,e,i,a,l){var n=this.handlerPointAddFixed;t.clearRect.apply(t,Object(p["a"])(n(e+1,i+1)).concat(Object(p["a"])(n(a,l)))),t.clearRect.apply(t,Object(p["a"])(n(e,i)).concat(Object(p["a"])(n(a,l))))},handlerDbClick:function(){var t=this;this.cellIpt=!0;var e=this.centerCells,i=this.clickCellInfo,a=i.xNum,l=i.yNum,n=window.getSelection();this.$nextTick((function(){t.$refs.cellIpt.focus(),t.$refs.cellIpt.innerHTML=e[l][a].txt,n.selectAllChildren(t.$refs.cellIpt),n.collapseToEnd()}))},handlerCenterClick:function(t){var e=this.cellWidth,i=this.cellHeight,a=this.clickCell,l=this.clickCellInfo,n=this.scrollBar,c=this.cellIpt,s=this.centerCells;c&&(this.cellIpt=!1);var r=t.offsetX,h=t.offsetY;a.x=Math.floor(r/e)*e+n.x,l.x=Math.floor(r/e)*e,a.y=Math.floor(h/i)*i+n.y,l.y=Math.floor(h/i)*i,a.show=!0,l.position="".concat(this.wordsHead[Math.floor(r/e)]).concat(Math.floor(h/i)+1),l.xNum=Math.floor(r/e),l.yNum=Math.floor(h/i),l.width=e,l.height=i,l.txt=s[l.yNum][l.xNum].txt},handlerDomAddEvents:function(){var t=this;window.addEventListener("mousewheel",(function(e){t.handlerWheel(e)}),{passive:!1}),this.$refs.center.addEventListener("dblclick",this.handlerDbClick,!1)},handlerWheel:function(t){var e=this;t.preventDefault(),t.returnValue=!1;var i=t.deltaX,a=t.deltaY;this.$nextTick((function(){Math.abs(i)>Math.abs(a)?e.handlerScrollX(i):e.handlerScrollY(a)}))},handlerScrollX:function(t){var e=this.scrollBar,i=this.topCanvas,a=this.clickCell,l=this.clickCellInfo;e.x=e.x-t,-e.x+parseInt(this.$refs.top.style.width)>=i.canvasWidth?e.x=-(i.canvasWidth-parseInt(this.$refs.top.style.width)):e.x>=0&&(e.x=0),a.show&&(a.x=l.x+e.x)},handlerScrollY:function(t){var e=this.scrollBar,i=this.leftCanvas,a=this.clickCell,l=this.clickCellInfo;e.y-=t,-e.y+parseInt(this.$refs.left.style.height)>=i.canvasHeight?e.y=-(i.canvasHeight-parseInt(this.$refs.left.style.height)):e.y>=0&&(e.y=0),a.show&&(a.y=l.y+e.y)},handlerDomResize:function(){this.$refs.left.style.height=window.innerHeight-60-26+"px",this.$refs.center.style.height=window.innerHeight-60-26+"px",this.$refs.top.style.width=window.innerWidth-this.numCellWidth+"px",this.$refs.center.style.width=window.innerWidth-this.numCellWidth+"px"},handlerDrawHead:function(){var t=this,e=this.cellWidth,i=this.cellHeight,a=this.topCanvas,l=this.wordsHead,n=this.headCells,c=this.handlerPointRect,s=this.$refs.topCanvas.getContext("2d");a.ctx=s;for(var r=0;r<l.length;r++){var h={x:r*e,y:0,width:e,height:i,txt:l[r]};n.push(h)}a.canvasWidth=l.length*e+e/2,a.canvasHeight=i+1,this.$nextTick((function(){s.lineWidth=1*t.ratio,s.strokeStyle="#cecece",s.font="normal ".concat(12*t.ratio,"px PingFang SC"),s.textAlign="center",s.textBaseline="middle",n.forEach((function(t){var e=t.x,i=t.y,a=t.width,l=t.height,n=t.txt;c(s,e,i,a,l,n,"#fafafa")}))}))},handlerDrawCenter:function(){var t=this,e=this.centerCanvas,i=this.centerCells,a=this.wordsHead,l=this.cellWidth,n=this.cellHeight,c=this.handlerPointRect,s=this.$refs.centerCanvas.getContext("2d");e.ctx=s,e.canvasHeight=100*n+1,e.canvasWidth=a.length*l+l/2;for(var r=0;r<100;r++){for(var h=[],o=0;o<a.length;o++){var d={x:o*l,y:r*n,width:l,height:n,txt:""};h.push(d)}i.push(h)}this.$nextTick((function(){s.lineWidth=1*t.ratio,s.strokeStyle="#cecece",s.font="normal ".concat(12*t.ratio,"px PingFang SC"),s.textAlign="center",s.textBaseline="middle",i.forEach((function(t){t.forEach((function(t){var e=t.x,i=t.y,a=t.width,l=t.height,n=t.txt;c(s,e,i,a,l,n,null,"rgb(38, 38, 38)")}))}))}))},handlerDrawLeft:function(){var t=this,e=this.numCellWidth,i=this.cellHeight,a=this.leftCanvas,l=this.letfCells,n=this.handlerPointRect,c=this.$refs.leftCanvas.getContext("2d");a.ctx=c;for(var s=1;s<=100;s++){var r={x:0,y:(s-1)*i,width:e,height:i,txt:s};l.push(r)}a.canvasWidth=e+1,a.canvasHeight=l.length*i+1,this.$nextTick((function(){c.lineWidth=1*t.ratio,c.strokeStyle="#cecece",c.font="normal ".concat(12*t.ratio,"px PingFang SC"),c.textAlign="center",c.textBaseline="middle",l.forEach((function(t){var e=t.x,i=t.y,a=t.width,l=t.height,s=t.txt;n(c,e,i,a,l,s,"#fafafa")}))}))},handlerLineAddFixed:function(t,e){return[(t+.5)*this.ratio,(e+.5)*this.ratio]},handlerPointAddFixed:function(t,e){return[t*this.ratio,e*this.ratio]},handlerPointRect:function(t,e,i,a,l,n,c,s){t.fillStyle=c||"#fff",t.beginPath(),t.moveTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e,i))),t.lineTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e+a,i))),t.lineTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e+a,i+l))),t.lineTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e,i+l))),t.lineTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e,i))),t.fill(),t.closePath(),t.stroke(),t.fillStyle=s||"#000",n.toString().length>0&&t.fillText.apply(t,[n].concat(Object(p["a"])(this.handlerPointAddFixed(e+a/2,i+l/2))))},handlerPointHalfRect:function(t,e,i,a,l){t.strokeStyle="#cecece",t.beginPath(),t.moveTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e,i))),t.lineTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e+a,i))),t.moveTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e,i))),t.lineTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e,i+l))),t.closePath(),t.stroke()},handlerDrawBorder:function(t,e,i,a,l){t.strokeStyle="#2a83fa",t.beginPath(),t.moveTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e,i))),t.lineTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(a,l))),t.closePath(),t.stroke(),t.strokeStyle="#cecece"},handlerDrawTxt:function(t,e,i,a,l,n){var c=this.cellWidth,s=this.ratio;t.textAlign="left",t.fillText.apply(t,[n].concat(Object(p["a"])(this.handlerPointAddFixed(e+5,i+l/2)),[(c-5)*s]))},handlerDrawClickRowCol:function(t){var e=t.x,i=t.y,a=t.width,l=t.height,n=t.xNum,c=t.yNum,s=this.leftCanvas,r=this.topCanvas,h=(this.handlerPointAddFixed,this.handlerClearRect),o=this.numCellWidth,d=this.handlerPointRect,f=this.handlerDrawBorder,p=this.wordsHead,u=[0,i],v=[e,0];h.apply(void 0,[s.ctx].concat(u,[o,l])),h.apply(void 0,[r.ctx].concat(v,[a,l])),d.apply(void 0,[s.ctx].concat(u,[o,l,c+1,"#E6E6E6"])),f(s.ctx,o,i,o,i+l),d.apply(void 0,[r.ctx].concat(v,[a,l,p[n],"#E6E6E6"])),f(r.ctx,e,l,e+a,l)},handlerClearOldClickRowCol:function(t,e,i){var a=t.x,l=t.y,n=t.width,c=t.height,s=t.xNum,r=t.yNum,h=this.leftCanvas,o=this.topCanvas,d=(this.handlerPointAddFixed,this.handlerClearRect),f=this.numCellWidth,p=this.handlerPointRect,u=this.wordsHead,v=[0,l],x=[a,0];e&&i?(d.apply(void 0,[h.ctx].concat(v,[f,c])),d.apply(void 0,[o.ctx].concat(x,[n,c])),p.apply(void 0,[h.ctx].concat(v,[f,c,r+1,"#fafafa"])),p.apply(void 0,[o.ctx].concat(x,[n,c,u[s],"#fafafa"]))):e&&!i?(d.apply(void 0,[h.ctx].concat(v,[f,c])),p.apply(void 0,[h.ctx].concat(v,[f,c,r+1,"#fafafa"]))):!e&&i&&(d.apply(void 0,[o.ctx].concat(x,[n,c])),p.apply(void 0,[o.ctx].concat(x,[n,c,u[s],"#fafafa"])))}},watch:{copyClickCellInfo:{handler:function(t,e){this.handlerDrawClickRowCol(t),e.position&&(t.x!=e.x&&t.y!=e.y?this.handlerClearOldClickRowCol(e,!0,!0):t.x==e.x&&t.y!=e.y?this.handlerClearOldClickRowCol(e,!0):t.x!=e.x&&t.y==e.y&&this.handlerClearOldClickRowCol(e,null,!0))},deep:!0}},mounted:function(){this.init()}},v=u,x=(i("21bb"),Object(c["a"])(v,d,f,!1,null,null,null)),C=x.exports;a["a"].use(o["a"]);var y=[{path:"/",name:"Home",component:C}],g=new o["a"]({base:"",routes:y}),w=g,b=i("2f62");a["a"].use(b["a"]);var m=new b["a"].Store({state:{},mutations:{},actions:{},modules:{}});i("99bf");a["a"].config.productionTip=!1,new a["a"]({router:w,store:m,render:function(t){return t(h)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";var a=i("9c0c"),l=i.n(a);l.a},"99bf":function(t,e,i){},"9c0c":function(t,e,i){}});