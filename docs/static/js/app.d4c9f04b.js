(function(t){function e(e){for(var l,r,s=e[0],o=e[1],c=e[2],d=0,f=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&f.push(a[r][0]),a[r]=0;for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(t[l]=o[l]);h&&h(e);while(f.length)f.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],l=!0,s=1;s<i.length;s++){var o=i[s];0!==a[o]&&(l=!1)}l&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var l={},a={app:0},n=[];function r(e){if(l[e])return l[e].exports;var i=l[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=l,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)r.d(i,l,function(e){return t[e]}.bind(null,l));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var h=o;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"21bb":function(t,e,i){"use strict";var l=i("2dad"),a=i.n(l);a.a},"2dad":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var l=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},n=[],r=(i("5c0b"),i("2877")),s={},o=Object(r["a"])(s,a,n,!1,null,null,null),c=o.exports,h=i("8c4f"),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"home",staticClass:"home"},[i("div",{staticClass:"header"},[i("div",{staticClass:"toolBar"}),i("div",{staticClass:"cellVal"},[i("div",{staticClass:"cell"},[t._v(t._s(t.clickCellInfo.position))]),i("div",{staticClass:"val"},[t._v(t._s(t.clickCellInfo.txt))])])]),i("div",{staticClass:"main"},[i("div",{staticClass:"allSelect",style:{width:t.numCellWidth+.5+"px",height:t.cellHeight+.5+"px"}}),i("div",{ref:"top",staticClass:"top",style:{height:t.topCanvas.canvasHeight+"px"}},[i("canvas",{ref:"topCanvas",staticClass:"topCanvas",style:{width:t.topCanvas.canvasWidth+"px",height:t.topCanvas.canvasHeight+"px",left:t.scrollBar.x+"px"},attrs:{width:t.topCanvas.canvasWidth*t.ratio,height:t.topCanvas.canvasHeight*t.ratio}})]),i("div",{ref:"left",staticClass:"left",style:{width:t.numCellWidth+1+"px",top:t.cellHeight+"px"}},[i("canvas",{ref:"leftCanvas",staticClass:"leftCanvas",style:{width:t.leftCanvas.canvasWidth+"px",height:t.leftCanvas.canvasHeight+"px",top:t.scrollBar.y+"px"},attrs:{width:t.leftCanvas.canvasWidth*t.ratio,height:t.leftCanvas.canvasHeight*t.ratio}})]),i("div",{ref:"center",staticClass:"center",style:{top:t.cellHeight+"px",left:t.numCellWidth+"px"}},[i("canvas",{ref:"centerCanvas",staticClass:"centerCanvas",style:{width:t.centerCanvas.canvasWidth+"px",height:t.centerCanvas.canvasHeight+"px",top:t.scrollBar.y+"px",left:t.scrollBar.x+"px"},attrs:{width:t.centerCanvas.canvasWidth*t.ratio,height:t.centerCanvas.canvasHeight*t.ratio},on:{click:t.handlerCenterClick}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.clickCell.show,expression:"clickCell.show"}],staticClass:"clickCell",style:{width:t.cellWidth+.5+"px",height:t.cellHeight+.5+"px",left:t.clickCell.x+"px",top:t.clickCell.y+"px"}},[t.cellIpt?i("div",{ref:"cellIpt",staticClass:"cellIpt",attrs:{contenteditable:""},on:{blur:t.handlerCellIptBlur,input:t.handlerCellIptIput}}):t._e()]),i("div",{ref:"rightSideBar",staticClass:"rightSideBar"},[i("div",{staticClass:"scrollBar",style:{top:t.rightScrollBar.top+"px",height:t.rightScrollBar.height+"px",opacity:t.scrollBarOpacity},on:{mousedown:function(e){return t.handlerScrollBarDragMove(e,!0)}}})]),i("div",{ref:"bottomScrollBar",staticClass:"bottomScrollBar"},[i("div",{staticClass:"scrollBar",style:{left:t.bottomScrollBar.left+"px",width:t.bottomScrollBar.width+"px",opacity:t.scrollBarOpacity},on:{mousedown:function(e){return t.handlerScrollBarDragMove(e,!1)}}})])])])])},f=[],p=(i("99af"),i("cb29"),i("4160"),i("d3b7"),i("25f0"),i("159b"),i("2909")),u={name:"Home",data:function(){return{ratio:window.devicePixelRatio,topCanvas:{canvasWidth:0,canvasHeight:0,ctx:null},leftCanvas:{canvasWidth:0,canvasHeight:0,ctx:null},centerCanvas:{canvasWidth:0,canvasHeight:0,ctx:null},cellWidth:120,cellHeight:25,wordsHead:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],numCellWidth:40,scrollBar:{x:0,y:0},rightScrollBar:{top:0,height:(window.innerHeight-60-25)/2500*(window.innerHeight-60-25)},bottomScrollBar:{left:0,width:(window.innerWidth-40)/3120*(window.innerWidth-40)},scrollBarMousedownPosition:{},scrollBarOpacity:0,scrollBarTimer:null,centerCells:[],letfCells:[],headCells:[],clickCell:{x:0,y:0,show:!1},clickCellInfo:{x:0,y:0,position:"",xNum:0,yNum:0,width:0,height:0,txt:""},cellIpt:!1}},computed:{copyClickCellInfo:function(){return JSON.parse(JSON.stringify(this.clickCellInfo))},centerHeight:function(){return window.innerHeight-60-25},centerWidth:function(){return window.innerWidth-this.numCellWidth}},methods:{init:function(){this.handlerDrawHead(),this.handlerDrawLeft(),this.handlerDrawCenter(),this.handlerDomResize(),this.handlerDomAddEvents()},handlerCellIptBlur:function(t){var e=this.centerCells,i=this.centerCanvas.ctx,l=this.clickCellInfo,a=l.xNum,n=l.yNum,r=l.x,s=l.y,o=l.width,c=l.height,h=this.cellWidth,d=this.cellHeight,f=(this.handlerPointAddFixed,this.handlerClearRect),p=this.handlerPointRect,u=(this.ratio,t.target.innerHTML);i.fillStyle="rgb(38, 38, 38);",u===e[n][a].txt||(e[n][a].txt=u,f(i,r,s,h,d),p(i,r,s,o,c,"",null,"rgb(38, 38, 38)"),this.handlerDrawTxt(i,r,s,o,c,u)),t.target.innerHTML=""},handlerCellIptIput:function(t){this.clickCellInfo.txt+=t.data},handlerClearRect:function(t,e,i,l,a){var n=this.handlerPointAddFixed;t.clearRect.apply(t,Object(p["a"])(n(e+1,i+1)).concat(Object(p["a"])(n(l,a)))),t.clearRect.apply(t,Object(p["a"])(n(e,i)).concat(Object(p["a"])(n(l,a))))},handlerDbClick:function(){var t=this;this.cellIpt=!0;var e=this.centerCells,i=this.clickCellInfo,l=i.xNum,a=i.yNum,n=window.getSelection();this.$nextTick((function(){t.$refs.cellIpt.focus(),t.$refs.cellIpt.innerHTML=e[a][l].txt,n.selectAllChildren(t.$refs.cellIpt),n.collapseToEnd()}))},handlerCenterClick:function(t){var e=this.cellWidth,i=this.cellHeight,l=this.clickCell,a=this.clickCellInfo,n=this.scrollBar,r=this.cellIpt,s=this.centerCells;r&&(this.cellIpt=!1);var o=t.offsetX,c=t.offsetY;l.x=Math.floor(o/e)*e+n.x,a.x=Math.floor(o/e)*e,l.y=Math.floor(c/i)*i+n.y,a.y=Math.floor(c/i)*i,l.show=!0,a.position="".concat(this.wordsHead[Math.floor(o/e)]).concat(Math.floor(c/i)+1),a.xNum=Math.floor(o/e),a.yNum=Math.floor(c/i),a.width=e,a.height=i,a.txt=s[a.yNum][a.xNum].txt},handlerDomAddEvents:function(){var t=this;window.addEventListener("mousewheel",(function(e){t.handlerWheel(e)}),{passive:!1}),this.$refs.center.addEventListener("dblclick",this.handlerDbClick,!1)},handlerWheel:function(t){var e=this;t.preventDefault(),t.returnValue=!1;var i=this.handlerScrollX,l=this.handlerScrollY;this.scrollBarOpacity=1,window.clearTimeout(this.scrollBarTimer),this.scrollBarTimer=window.setTimeout((function(){e.scrollBarOpacity=0}),2e3);var a=t.deltaX,n=t.deltaY;this.$nextTick((function(){Math.abs(a)>Math.abs(n)?i(a):l(n)}))},handlerScrollX:function(t){var e=this.scrollBar,i=this.topCanvas,l=this.clickCell,a=this.clickCellInfo,n=this.bottomScrollBar,r=this.centerWidth;e.x=e.x-t,n.left+=t/3120*r,-e.x+parseInt(this.$refs.top.style.width)>=i.canvasWidth?(e.x=-(i.canvasWidth-parseInt(this.$refs.top.style.width)),n.left=r-n.width):e.x>=0&&(e.x=0,n.left=0),l.show&&(l.x=a.x+e.x)},handlerScrollY:function(t){var e=this.scrollBar,i=this.leftCanvas,l=this.clickCell,a=this.clickCellInfo,n=this.rightScrollBar,r=this.centerHeight;e.y-=t,n.top+=t/2500*(r-3),-e.y+parseInt(this.$refs.left.style.height)>=i.canvasHeight?(e.y=-(i.canvasHeight-parseInt(this.$refs.left.style.height)),n.top=r-3-n.height):e.y>=0&&(e.y=n.top=0),l.show&&(l.y=a.y+e.y)},handlerScrollBarDragMove:function(t,e){var i=this;this.scrollBarMousedownPosition={x:t.clientX,y:t.clientY,type:e},this.scrollBarOpacity=1,window.clearTimeout(this.scrollBarTimer),document.addEventListener("mousemove",this.handlerMoveWidth),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",i.handlerMoveWidth),i.scrollBarTimer=window.setTimeout((function(){i.scrollBarOpacity=0}),2e3)}))},handlerMoveWidth:function(t){var e=this.scrollBarMousedownPosition,i=this.rightScrollBar,l=this.bottomScrollBar,a=this.centerHeight,n=this.scrollBar,r=this.leftCanvas,s=this.centerWidth,o=this.topCanvas,c=this.cellWidth,h=this.wordsHead;if(e.type){var d=t.clientY-e.y;e.y=t.clientY,i.top+=d,n.y-=d/(a-3)*2500,i.top>=a-3-i.height?(i.top=a-3-i.height,n.y=-(r.canvasHeight-parseInt(this.$refs.left.style.height))):i.top<=0&&(n.y=i.top=0)}else{var f=t.clientX-e.x;e.x=t.clientX,l.left+=f,n.x-=f/s*c*h.length,l.left<=0?n.x=l.left=0:l.left>=s-l.width&&(l.left=s-l.width,n.x=-(o.canvasWidth-parseInt(this.$refs.top.style.width)))}},handlerDomResize:function(){this.$refs.left.style.height=window.innerHeight-60-26+"px",this.$refs.center.style.height=window.innerHeight-60-26+"px",this.$refs.top.style.width=window.innerWidth-this.numCellWidth+"px",this.$refs.center.style.width=window.innerWidth-this.numCellWidth+"px"},handlerDrawHead:function(){var t=this,e=this.cellWidth,i=this.cellHeight,l=this.topCanvas,a=this.wordsHead,n=this.headCells,r=this.handlerPointRect,s=this.$refs.topCanvas.getContext("2d");l.ctx=s;for(var o=0;o<a.length;o++){var c={x:o*e,y:0,width:e,height:i,txt:a[o]};n.push(c)}l.canvasWidth=a.length*e+e/2,l.canvasHeight=i+1,this.$nextTick((function(){s.lineWidth=1*t.ratio,s.strokeStyle="#cecece",s.font="normal ".concat(12*t.ratio,"px PingFang SC"),s.textAlign="center",s.textBaseline="middle",n.forEach((function(t){var e=t.x,i=t.y,l=t.width,a=t.height,n=t.txt;r(s,e,i,l,a,n,"#fafafa")}))}))},handlerDrawCenter:function(){var t=this,e=this.centerCanvas,i=this.centerCells,l=this.wordsHead,a=this.cellWidth,n=this.cellHeight,r=this.handlerPointRect,s=this.$refs.centerCanvas.getContext("2d");e.ctx=s,e.canvasHeight=100*n+1,e.canvasWidth=l.length*a+a/2;for(var o=0;o<100;o++){for(var c=[],h=0;h<l.length;h++){var d={x:h*a,y:o*n,width:a,height:n,txt:""};c.push(d)}i.push(c)}this.$nextTick((function(){s.lineWidth=1*t.ratio,s.strokeStyle="#cecece",s.font="normal ".concat(12*t.ratio,"px PingFang SC"),s.textAlign="center",s.textBaseline="middle",i.forEach((function(t){t.forEach((function(t){var e=t.x,i=t.y,l=t.width,a=t.height,n=t.txt;r(s,e,i,l,a,n,null,"rgb(38, 38, 38)")}))}))}))},handlerDrawLeft:function(){var t=this,e=this.numCellWidth,i=this.cellHeight,l=this.leftCanvas,a=this.letfCells,n=this.handlerPointRect,r=this.$refs.leftCanvas.getContext("2d");l.ctx=r;for(var s=1;s<=100;s++){var o={x:0,y:(s-1)*i,width:e,height:i,txt:s};a.push(o)}l.canvasWidth=e+1,l.canvasHeight=a.length*i+1,this.$nextTick((function(){r.lineWidth=1*t.ratio,r.strokeStyle="#cecece",r.font="normal ".concat(12*t.ratio,"px PingFang SC"),r.textAlign="center",r.textBaseline="middle",a.forEach((function(t){var e=t.x,i=t.y,l=t.width,a=t.height,s=t.txt;n(r,e,i,l,a,s,"#fafafa")}))}))},handlerLineAddFixed:function(t,e){return[(t+.5)*this.ratio,(e+.5)*this.ratio]},handlerPointAddFixed:function(t,e){return[t*this.ratio,e*this.ratio]},handlerPointRect:function(t,e,i,l,a,n,r,s){t.fillStyle=r||"#fff",t.beginPath(),t.moveTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e,i))),t.lineTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e+l,i))),t.lineTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e+l,i+a))),t.lineTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e,i+a))),t.lineTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e,i))),t.fill(),t.closePath(),t.stroke(),t.fillStyle=s||"#000",n.toString().length>0&&t.fillText.apply(t,[n].concat(Object(p["a"])(this.handlerPointAddFixed(e+l/2,i+a/2))))},handlerPointHalfRect:function(t,e,i,l,a){t.strokeStyle="#cecece",t.beginPath(),t.moveTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e,i))),t.lineTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e+l,i))),t.moveTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e,i))),t.lineTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e,i+a))),t.closePath(),t.stroke()},handlerDrawBorder:function(t,e,i,l,a){t.strokeStyle="#2a83fa",t.beginPath(),t.moveTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(e,i))),t.lineTo.apply(t,Object(p["a"])(this.handlerLineAddFixed(l,a))),t.closePath(),t.stroke(),t.strokeStyle="#cecece"},handlerDrawTxt:function(t,e,i,l,a,n){var r=this.cellWidth,s=this.ratio;t.textAlign="left",t.fillText.apply(t,[n].concat(Object(p["a"])(this.handlerPointAddFixed(e+5,i+a/2)),[(r-5)*s]))},handlerDrawClickRowCol:function(t){var e=t.x,i=t.y,l=t.width,a=t.height,n=t.xNum,r=t.yNum,s=this.leftCanvas,o=this.topCanvas,c=(this.handlerPointAddFixed,this.handlerClearRect),h=this.numCellWidth,d=this.handlerPointRect,f=this.handlerDrawBorder,p=this.wordsHead,u=[0,i],v=[e,0];c.apply(void 0,[s.ctx].concat(u,[h,a])),c.apply(void 0,[o.ctx].concat(v,[l,a])),d.apply(void 0,[s.ctx].concat(u,[h,a,r+1,"#E6E6E6"])),f(s.ctx,h,i,h,i+a),d.apply(void 0,[o.ctx].concat(v,[l,a,p[n],"#E6E6E6"])),f(o.ctx,e,a,e+l,a)},handlerClearOldClickRowCol:function(t,e,i){var l=t.x,a=t.y,n=t.width,r=t.height,s=t.xNum,o=t.yNum,c=this.leftCanvas,h=this.topCanvas,d=(this.handlerPointAddFixed,this.handlerClearRect),f=this.numCellWidth,p=this.handlerPointRect,u=this.wordsHead,v=[0,a],x=[l,0];e&&i?(d.apply(void 0,[c.ctx].concat(v,[f,r])),d.apply(void 0,[h.ctx].concat(x,[n,r])),p.apply(void 0,[c.ctx].concat(v,[f,r,o+1,"#fafafa"])),p.apply(void 0,[h.ctx].concat(x,[n,r,u[s],"#fafafa"]))):e&&!i?(d.apply(void 0,[c.ctx].concat(v,[f,r])),p.apply(void 0,[c.ctx].concat(v,[f,r,o+1,"#fafafa"]))):!e&&i&&(d.apply(void 0,[h.ctx].concat(x,[n,r])),p.apply(void 0,[h.ctx].concat(x,[n,r,u[s],"#fafafa"])))}},watch:{copyClickCellInfo:{handler:function(t,e){this.handlerDrawClickRowCol(t),e.position&&(t.x!=e.x&&t.y!=e.y?this.handlerClearOldClickRowCol(e,!0,!0):t.x==e.x&&t.y!=e.y?this.handlerClearOldClickRowCol(e,!0):t.x!=e.x&&t.y==e.y&&this.handlerClearOldClickRowCol(e,null,!0))},deep:!0}},mounted:function(){this.init()}},v=u,x=(i("21bb"),Object(r["a"])(v,d,f,!1,null,null,null)),C=x.exports;l["a"].use(h["a"]);var y=[{path:"/",name:"Home",component:C}],w=new h["a"]({base:"",routes:y}),g=w,m=i("2f62");l["a"].use(m["a"]);var b=new m["a"].Store({state:{},mutations:{},actions:{},modules:{}});i("99bf");l["a"].config.productionTip=!1,new l["a"]({router:g,store:b,render:function(t){return t(c)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";var l=i("9c0c"),a=i.n(l);a.a},"99bf":function(t,e,i){},"9c0c":function(t,e,i){}});